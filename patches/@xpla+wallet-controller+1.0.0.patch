diff --git a/node_modules/@xpla/wallet-controller/modules/extension-router/ExtensionRouter.js b/node_modules/@xpla/wallet-controller/modules/extension-router/ExtensionRouter.js
index cd4d223..3521928 100644
--- a/node_modules/@xpla/wallet-controller/modules/extension-router/ExtensionRouter.js
+++ b/node_modules/@xpla/wallet-controller/modules/extension-router/ExtensionRouter.js
@@ -137,7 +137,7 @@ export class ExtensionRouter {
         // internal
         // ---------------------------------------------
         this.createConnector = (extensionInfo) => {
-            var _a;
+        var _a;
             (_a = this._connector) === null || _a === void 0 ? void 0 : _a.close();
             const connectorPromise = extensionInfo.connector
                 ? Promise.resolve(extensionInfo.connector())
@@ -207,31 +207,41 @@ export class ExtensionRouter {
             });
             return;
         }
+        this._extensionInfos.map((i) => {
+            // console.log(i.identifier, i.connector && i.connector());
+            const connectorPromise = i.connector
+            ? Promise.resolve(i.connector())
+            : Promise.resolve(new LegacyExtensionConnector(i.identifier));
+            connectorPromise.then((connector) => {
+                this._connector = connector;
+            });
+        });
         // ---------------------------------------------
         // initialize session
         // ---------------------------------------------
-        const session = getStoredSession();
-        if (session) {
-            const extensionInfo = this._extensionInfos.find((item) => item.identifier === session.identifier);
-            if (extensionInfo) {
-                this.createConnector(extensionInfo);
-                return;
-            }
-            else {
-                console.warn(`Can't find an extension for the session "${session.identifier}"`);
-                clearSession();
-                this._states.next({
-                    type: ExtensionRouterStatus.WALLET_NOT_CONNECTED,
-                    network: options.defaultNetwork,
-                });
-            }
-        }
-        else {
-            this._states.next({
-                type: ExtensionRouterStatus.WALLET_NOT_CONNECTED,
-                network: options.defaultNetwork,
-            });
-        }
+        // const session = getStoredSession();
+        // if (session) {
+        //     const extensionInfo = this._extensionInfos.find((item) => item.identifier === session.identifier);
+        //     if (extensionInfo) {
+        //         console.log(extensionInfo, session);
+        //         this.createConnector(extensionInfo);
+        //         return;
+        //     }
+        //     else {
+        //         console.warn(`Can't find an extension for the session "${session.identifier}"`);
+        //         clearSession();
+        //         this._states.next({
+        //             type: ExtensionRouterStatus.WALLET_NOT_CONNECTED,
+        //             network: options.defaultNetwork,
+        //         });
+        //     }
+        // }
+        // else {
+        this._states.next({
+            type: ExtensionRouterStatus.WALLET_NOT_CONNECTED,
+            network: options.defaultNetwork,
+        });
+        // }
     }
 }
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXh0ZW5zaW9uUm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL0B4cGxhL3dhbGxldC1jb250cm9sbGVyL21vZHVsZXMvZXh0ZW5zaW9uLXJvdXRlci9FeHRlbnNpb25Sb3V0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQU9MLGtCQUFrQixHQUVuQixNQUFNLCtCQUErQixDQUFDO0FBRXZDLE9BQU8sRUFBRSxlQUFlLEVBQWdCLE1BQU0sTUFBTSxDQUFDO0FBQ3JELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDdEMsT0FBTyxFQUFpQixpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ3pFLE9BQU8sRUFDTCw0QkFBNEIsRUFFNUIscUJBQXFCLEdBQ3RCLE1BQU0sU0FBUyxDQUFDO0FBa0JqQixNQUFNLE9BQU8sZUFBZTtJQU0xQixZQUE2QixPQUErQjtRQUEvQixZQUFPLEdBQVAsT0FBTyxDQUF3QjtRQUZwRCxlQUFVLEdBQXFDLElBQUksQ0FBQztRQW9ENUQsZ0RBQWdEO1FBQ2hELFNBQVM7UUFDVCxnREFBZ0Q7UUFDaEQsV0FBTSxHQUFHLEdBQUcsRUFBRTtZQUNaLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNyQyxDQUFDLENBQUM7UUFFRixrQkFBYSxHQUFHLEdBQUcsRUFBRTtZQUNuQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDakMsQ0FBQyxDQUFDO1FBRUYsZ0RBQWdEO1FBQ2hELFlBQVk7UUFDWixnREFBZ0Q7UUFDaEQsWUFBTyxHQUFHLEtBQUssRUFBRSxVQUFtQixFQUFFLEVB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QUNMLE9BQU8sQ0FBQyxJQUFJLENBQ1YsNENBQTRDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsQ0FDbEUsQ0FBQztnQkFDRixZQUFZLEVBQUUsQ0FBQztnQkFFZixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztvQkFDaEIsSUFBSSxFQUFFLHFCQUFxQixDQUFDLG9CQUFvQjtvQkFDaEQsT0FBTyxFQUFFLE9BQU8sQ0FBQyxjQUFjO2lCQUNoQyxDQUFDLENBQUM7YUFDSjtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztnQkFDaEIsSUFBSSxFQUFFLHFCQUFxQixDQUFDLG9CQUFvQjtnQkFDaEQsT0FBTyxFQUFFLE9BQU8sQ0FBQyxjQUFjO2FBQ2hDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztDQW1RRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5ldHdvcmtJbmZvIH0gZnJvbSAnQHhwbGEvd2FsbGV0LXR5cGVzJztcbmltcG9ydCB7XG4gIFhwbGFXZWJFeHRlbnNpb25Db25uZWN0b3IsXG4gIFdlYkV4dGVuc2lvbk5ldHdvcmtJbmZvLFxuICBXZWJFeHRlbnNpb25Qb3N0UGF5bG9hZCxcbiAgV2ViRXh0ZW5zaW9uU2lnbkJ5dGVzUGF5bG9hZCxcbiAgV2ViRXh0ZW5zaW9uU2lnblBheWxvYWQsXG4gIFdlYkV4dGVuc2lvblN0YXRlcyxcbiAgV2ViRXh0ZW5zaW9uU3RhdHVzLFxuICBXZWJFeHRlbnNpb25UeFJlc3VsdCxcbn0gZnJvbSAnQHhwbGEvd2ViLWV4dGVuc2lvbi1pbnRlcmZhY2UnO1xuaW1wb3J0IHsgQ3JlYXRlVHhPcHRpb25zLCBTaWduTW9kZSB9IGZyb20gJ0B4cGxhL3hwbGEuanMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJzY3JpYmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IExlZ2FjeUV4dGVuc2lvbkNvbm5lY3RvciB9IGZyb20gJy4uL2xlZ2FjeS1leHRlbnNpb24nO1xuaW1wb3J0IHsgc2VsZWN0TW9kYWwgfSBmcm9tICcuL21vZGFsJztcbmltcG9ydCB7IEV4dGVuc2lvbkluZm8sIGdldFhwbGFFeHRlbnNpb25zIH0gZnJvbSAnLi9tdWx0aUNoYW5uZWwnO1xuaW1wb3J0IHsgY2xlYXJTZXNzaW9uLCBnZXRTdG9yZWRTZXNzaW9uLCBzdG9yZVNlc3Npb24gfSBmcm9tICcuL3Nlc3Npb24nO1xuaW1wb3J0IHtcbiAgRXh0ZW5zaW9uUm91dGVyQ29ubmVjdG9yVHlwZSxcbiAgRXh0ZW5zaW9uUm91dGVyU3RhdGVzLFxuICBFeHRlbnNpb25Sb3V0ZXJTdGF0dXMsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV4dGVuc2lvblJvdXRlck9wdGlvbnMge1xuICBkZWZhdWx0TmV0d29yazogTmV0d29ya0luZm87XG4gIHNlbGVjdEV4dGVuc2lvbj86IChcbiAgICBleHRlbnNpb25JbmZvczogRXh0ZW5zaW9uSW5mb1tdLFxuICApID0+IFByb21pc2U8RXh0ZW5zaW9uSW5mbyB8IG51bGw+O1xuXG4gIGhvc3RXaW5kb3c/OiBXaW5kb3c7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIGRldmVsb3BtZW50IGZlYXR1cmVzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBkYW5nZXJvdXNseV9fY2hyb21lRXh0ZW5zaW9uQ29tcGF0aWJsZUJyb3dzZXJDaGVjazogKFxuICAgIHVzZXJBZ2VudDogc3RyaW5nLFxuICApID0+IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBFeHRlbnNpb25Sb3V0ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IF9zdGF0ZXM6IEJlaGF2aW9yU3ViamVjdDxFeHRlbnNpb25Sb3V0ZXJTdGF0ZXM+O1xuICBwcml2YXRlIHJlYWRvbmx5IF9leHRlbnNpb25JbmZvczogRXh0ZW5zaW9uSW5mb1tdO1xuXG4gIHByaXZhdGUgX2Nvbm5lY3RvcjogWHBsYVdlYkV4dGVuc2lvbkNvbm5lY3RvciB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczogRXh0ZW5zaW9uUm91dGVyT3B0aW9ucykge1xuICAgIHRoaXMuX3N0YXRlcyA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RXh0ZW5zaW9uUm91dGVyU3RhdGVzPih7XG4gICAgICB0eXBlOiBFeHRlbnNpb25Sb3V0ZXJTdGF0dXMuSU5JVElBTElaSU5HLFxuICAgICAgbmV0d29yazogb3B0aW9ucy5kZWZhdWx0TmV0d29yayxcbiAgICB9KTtcblxuICAgIHRoaXMuX2V4dGVuc2lvbkluZm9zID0gZ2V0WHBsYUV4dGVuc2lvbnMoKTtcblxuICAgIGlmICh0aGlzLl9leHRlbnNpb25JbmZvcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX3N0YXRlcy5uZXh0KHtcbiAgICAgICAgdHlwZTogRXh0ZW5zaW9uUm91dGVyU3RhdHVzLk5PX0FWQUlMQUJMRSxcbiAgICAgICAgbmV0d29yazogb3B0aW9ucy5kZWZhdWx0TmV0d29yayxcbiAgICAgICAgaXNDb25uZWN0b3JFeGlzdHM6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBpbml0aWFsaXplIHNlc3Npb25cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjb25zdCBzZXNzaW9uID0gZ2V0U3RvcmVkU2Vzc2lvbigpO1xuXG4gICAgaWYgKHNlc3Npb24pIHtcbiAgICAgIGNvbnN0IGV4dGVuc2lvbkluZm8gPSB0aGlzLl9leHRlbnNpb25JbmZvcy5maW5kKFxuICAgICAgICAoaXRlbSkgPT4gaXRlbS5pZGVudGlmaWVyID09PSBzZXNzaW9uLmlkZW50aWZpZXIsXG4gICAgICApO1xuXG4gICAgICBpZiAoZXh0ZW5zaW9uSW5mbykge1xuICAgICAgICB0aGlzLmNyZWF0ZUNvbm5lY3RvcihleHRlbnNpb25JbmZvKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBDYW4ndCBmaW5kIGFuIGV4dGVuc2lvbiBmb3IgdGhlIHNlc3Npb24gXCIke3Nlc3Npb24uaWRlbnRpZmllcn1cImAsXG4gICAgICAgICk7XG4gICAgICAgIGNsZWFyU2Vzc2lvbigpO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlcy5uZXh0KHtcbiAgICAgICAgICB0eXBlOiBFeHRlbnNpb25Sb3V0ZXJTdGF0dXMuV0FMTEVUX05PVF9DT05ORUNURUQsXG4gICAgICAgICAgbmV0d29yazogb3B0aW9ucy5kZWZhdWx0TmV0d29yayxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0YXRlcy5uZXh0KHtcbiAgICAgICAgdHlwZTogRXh0ZW5zaW9uUm91dGVyU3RhdHVzLldBTExFVF9OT1RfQ09OTkVDVEVELFxuICAgICAgICBuZXR3b3JrOiBvcHRpb25zLmRlZmF1bHROZXR3b3JrLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHN0YXRlc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgc3RhdGVzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZXMuYXNPYnNlcnZhYmxlKCk7XG4gIH07XG5cbiAgZ2V0TGFzdFN0YXRlcyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGVzLmdldFZhbHVlKCk7XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIGJlaGF2aW9yc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29ubmVjdCA9IGFzeW5jIChpZGVudGlmaWVyPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZXh0ZW5zaW9uSW5mb3MgPSBnZXRYcGxhRXh0ZW5zaW9ucygpO1xuXG4gICAgaWYgKGV4dGVuc2lvbkluZm9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBbRXh0ZW5zaW9uUm91dGVyXSBDYW4ndCBmaW5kIGNvbm5lY3RvcnNgKTtcbiAgICB9XG5cbiAgICBsZXQgZXh0ZW5zaW9uSW5mbzogRXh0ZW5zaW9uSW5mbyB8IHVuZGVmaW5lZDtcblxuICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICBleHRlbnNpb25JbmZvID0gZXh0ZW5zaW9uSW5mb3MuZmluZChcbiAgICAgICAgKGl0ZW0pID0+IGl0ZW0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcixcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChleHRlbnNpb25JbmZvcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGV4dGVuc2lvbkluZm8gPSBleHRlbnNpb25JbmZvc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VsZWN0ID0gdGhpcy5vcHRpb25zLnNlbGVjdEV4dGVuc2lvbiA/PyBzZWxlY3RNb2RhbDtcbiAgICAgIGNvbnN0IHNlbGVjdGVkRXh0ZW5zaW9uSW5mbyA9IGF3YWl0IHNlbGVjdChleHRlbnNpb25JbmZvcyk7XG5cbiAgICAgIGlmIChzZWxlY3RlZEV4dGVuc2lvbkluZm8pIHtcbiAgICAgICAgZXh0ZW5zaW9uSW5mbyA9IHNlbGVjdGVkRXh0ZW5zaW9uSW5mbztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uSW5mbykge1xuICAgICAgdGhpcy5jcmVhdGVDb25uZWN0b3IoZXh0ZW5zaW9uSW5mbyk7XG4gICAgfVxuICB9O1xuXG4gIGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgY2xlYXJTZXNzaW9uKCk7XG5cbiAgICB0aGlzLl9zdGF0ZXMubmV4dCh7XG4gICAgICB0eXBlOiBFeHRlbnNpb25Sb3V0ZXJTdGF0dXMuV0FMTEVUX05PVF9DT05ORUNURUQsXG4gICAgICBuZXR3b3JrOiB0aGlzLm9wdGlvbnMuZGVmYXVsdE5ldHdvcmssXG4gICAgfSk7XG5cbiAgICB0aGlzLl9jb25uZWN0b3I/LmNsb3NlKCk7XG4gICAgdGhpcy5fY29ubmVjdG9yID0gbnVsbDtcbiAgfTtcblxuICByZXF1ZXN0QXBwcm92YWwgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW0V4dGVuc2lvblJvdXRlcl0gTm8gY29ubmVjdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fY29ubmVjdG9yLnJlcXVlc3RBcHByb3ZhbCgpO1xuICB9O1xuXG4gIHJlZmV0Y2hTdGF0ZXMgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW0V4dGVuc2lvblJvdXRlcl0gTm8gY29ubmVjdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fY29ubmVjdG9yLnJlZmV0Y2hTdGF0ZXMoKTtcbiAgfTtcblxuICBwb3N0ID0gKFxuICAgIHR4OiBDcmVhdGVUeE9wdGlvbnMsXG4gICAgeHBsYUFkZHJlc3M/OiBzdHJpbmcsXG4gICk6IFN1YnNjcmliYWJsZTxXZWJFeHRlbnNpb25UeFJlc3VsdDxXZWJFeHRlbnNpb25Qb3N0UGF5bG9hZD4+ID0+IHtcbiAgICBpZiAoIXRoaXMuX2Nvbm5lY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdbRXh0ZW5zaW9uUm91dGVyXSBObyBjb25uZWN0b3InKTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXRlc3RTdGF0ZXMgPSB0aGlzLmdldExhc3RTdGF0ZXMoKTtcblxuICAgIGlmIChsYXRlc3RTdGF0ZXMudHlwZSAhPT0gRXh0ZW5zaW9uUm91dGVyU3RhdHVzLldBTExFVF9DT05ORUNURUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgW0V4dGVuc2lvblJvdXRlcl0gV2FsbGV0IGlzIG5vdCBjb25uZWN0ZWRgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdG9yLnBvc3QoXG4gICAgICB4cGxhQWRkcmVzcyA/PyBsYXRlc3RTdGF0ZXMud2FsbGV0LnhwbGFBZGRyZXNzLFxuICAgICAgdHgsXG4gICAgKTtcbiAgfTtcblxuICBzaWduID0gKFxuICAgIHR4OiBDcmVhdGVUeE9wdGlvbnMgJiB7XG4gICAgICBzZXF1ZW5jZT86IG51bWJlcjtcbiAgICAgIGFjY291bnROdW1iZXI/OiBudW1iZXI7XG4gICAgICBzaWduTW9kZT86IFNpZ25Nb2RlO1xuICAgIH0sXG4gICAgeHBsYUFkZHJlc3M/OiBzdHJpbmcsXG4gICk6IFN1YnNjcmliYWJsZTxXZWJFeHRlbnNpb25UeFJlc3VsdDxXZWJFeHRlbnNpb25TaWduUGF5bG9hZD4+ID0+IHtcbiAgICBpZiAoIXRoaXMuX2Nvbm5lY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdbRXh0ZW5zaW9uUm91dGVyXSBObyBjb25uZWN0b3InKTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXRlc3RTdGF0ZXMgPSB0aGlzLmdldExhc3RTdGF0ZXMoKTtcblxuICAgIGlmIChsYXRlc3RTdGF0ZXMudHlwZSAhPT0gRXh0ZW5zaW9uUm91dGVyU3RhdHVzLldBTExFVF9DT05ORUNURUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgW0V4dGVuc2lvblJvdXRlcl0gV2FsbGV0IGlzIG5vdCBjb25uZWN0ZWRgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdG9yLnNpZ24oXG4gICAgICB4cGxhQWRkcmVzcyA/PyBsYXRlc3RTdGF0ZXMud2FsbGV0LnhwbGFBZGRyZXNzLFxuICAgICAgdHgsXG4gICAgKTtcbiAgfTtcblxuICBzaWduQnl0ZXMgPSAoXG4gICAgYnl0ZXM6IEJ1ZmZlcixcbiAgICB4cGxhQWRkcmVzcz86IHN0cmluZyxcbiAgKTogU3Vic2NyaWJhYmxlPFdlYkV4dGVuc2lvblR4UmVzdWx0PFdlYkV4dGVuc2lvblNpZ25CeXRlc1BheWxvYWQ+PiA9PiB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW0V4dGVuc2lvblJvdXRlcl0gTm8gY29ubmVjdG9yJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbGF0ZXN0U3RhdGVzID0gdGhpcy5nZXRMYXN0U3RhdGVzKCk7XG5cbiAgICBpZiAobGF0ZXN0U3RhdGVzLnR5cGUgIT09IEV4dGVuc2lvblJvdXRlclN0YXR1cy5XQUxMRVRfQ09OTkVDVEVEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFtFeHRlbnNpb25Sb3V0ZXJdIFdhbGxldCBpcyBub3QgY29ubmVjdGVkYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rvci5zaWduQnl0ZXMoXG4gICAgICB4cGxhQWRkcmVzcyA/PyBsYXRlc3RTdGF0ZXMud2FsbGV0LnhwbGFBZGRyZXNzLFxuICAgICAgYnl0ZXMsXG4gICAgKTtcbiAgfTtcblxuICBoYXNDVzIwVG9rZW5zID0gKFxuICAgIGNoYWluSUQ6IHN0cmluZyxcbiAgICAuLi50b2tlbkFkZHJzOiBzdHJpbmdbXVxuICApOiBQcm9taXNlPHsgW3Rva2VuQWRkcjogc3RyaW5nXTogYm9vbGVhbiB9PiA9PiB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW0V4dGVuc2lvblJvdXRlcl0gTm8gY29ubmVjdG9yJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jb25uZWN0b3IgaW5zdGFuY2VvZiBMZWdhY3lFeHRlbnNpb25Db25uZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1tFeHRlbnNpb25Sb3V0ZXJdIExlZ2FjeSBleHRlbnNpb24gZG9lcyBub3Qgc3VwcG9ydCBoYXNDVzIwVG9rZW5zKCkgJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rvci5oYXNDVzIwVG9rZW5zKGNoYWluSUQsIC4uLnRva2VuQWRkcnMpO1xuICB9O1xuXG4gIGFkZENXMjBUb2tlbnMgPSAoXG4gICAgY2hhaW5JRDogc3RyaW5nLFxuICAgIC4uLnRva2VuQWRkcnM6IHN0cmluZ1tdXG4gICk6IFByb21pc2U8eyBbdG9rZW5BZGRyOiBzdHJpbmddOiBib29sZWFuIH0+ID0+IHtcbiAgICBpZiAoIXRoaXMuX2Nvbm5lY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdbRXh0ZW5zaW9uUm91dGVyXSBObyBjb25uZWN0b3InKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2Nvbm5lY3RvciBpbnN0YW5jZW9mIExlZ2FjeUV4dGVuc2lvbkNvbm5lY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnW0V4dGVuc2lvblJvdXRlcl0gTGVnYWN5IGV4dGVuc2lvbiBkb2VzIG5vdCBzdXBwb3J0IGFkZENXMjBUb2tlbnMoKSAnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdG9yLmFkZENXMjBUb2tlbnMoY2hhaW5JRCwgLi4udG9rZW5BZGRycyk7XG4gIH07XG5cbiAgaGFzTmV0d29yayA9IChcbiAgICBuZXR3b3JrOiBPbWl0PFdlYkV4dGVuc2lvbk5ldHdvcmtJbmZvLCAnbmFtZSc+LFxuICApOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIXRoaXMuX2Nvbm5lY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdbRXh0ZW5zaW9uUm91dGVyXSBObyBjb25uZWN0b3InKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2Nvbm5lY3RvciBpbnN0YW5jZW9mIExlZ2FjeUV4dGVuc2lvbkNvbm5lY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnW0V4dGVuc2lvblJvdXRlcl0gTGVnYWN5IGV4dGVuc2lvbiBkb2VzIG5vdCBzdXBwb3J0IGhhc05ldHdvcmsoKSAnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdG9yLmhhc05ldHdvcmsobmV0d29yayk7XG4gIH07XG5cbiAgYWRkTmV0d29yayA9IChuZXR3b3JrOiBXZWJFeHRlbnNpb25OZXR3b3JrSW5mbyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghdGhpcy5fY29ubmVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tFeHRlbnNpb25Sb3V0ZXJdIE5vIGNvbm5lY3RvcicpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fY29ubmVjdG9yIGluc3RhbmNlb2YgTGVnYWN5RXh0ZW5zaW9uQ29ubmVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdbRXh0ZW5zaW9uUm91dGVyXSBMZWdhY3kgZXh0ZW5zaW9uIGRvZXMgbm90IHN1cHBvcnQgYWRkTmV0d29yaygpICcsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9jb25uZWN0b3IuYWRkTmV0d29yayhuZXR3b3JrKTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gaW50ZXJuYWxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHByaXZhdGUgY3JlYXRlQ29ubmVjdG9yID0gKGV4dGVuc2lvbkluZm86IEV4dGVuc2lvbkluZm8pID0+IHtcbiAgICB0aGlzLl9jb25uZWN0b3I/LmNsb3NlKCk7XG5cbiAgICBjb25zdCBjb25uZWN0b3JQcm9taXNlOiBQcm9taXNlPFhwbGFXZWJFeHRlbnNpb25Db25uZWN0b3I+ID1cbiAgICAgIGV4dGVuc2lvbkluZm8uY29ubmVjdG9yXG4gICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKGV4dGVuc2lvbkluZm8uY29ubmVjdG9yKCkpXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgbmV3IExlZ2FjeUV4dGVuc2lvbkNvbm5lY3RvcihleHRlbnNpb25JbmZvLmlkZW50aWZpZXIpLFxuICAgICAgICAgICk7XG5cbiAgICBjb25uZWN0b3JQcm9taXNlLnRoZW4oKGNvbm5lY3RvcikgPT4ge1xuICAgICAgY29ubmVjdG9yLm9wZW4odGhpcy5vcHRpb25zLmhvc3RXaW5kb3cgPz8gd2luZG93LCB7XG4gICAgICAgIG5leHQ6IChuZXh0U3RhdGVzOiBXZWJFeHRlbnNpb25TdGF0ZXMpID0+IHtcbiAgICAgICAgICBpZiAobmV4dFN0YXRlcy50eXBlID09PSBXZWJFeHRlbnNpb25TdGF0dXMuSU5JVElBTElaSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMubmV4dCh7XG4gICAgICAgICAgICAgIHR5cGU6IEV4dGVuc2lvblJvdXRlclN0YXR1cy5JTklUSUFMSVpJTkcsXG4gICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMub3B0aW9ucy5kZWZhdWx0TmV0d29yayxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlcy50eXBlID09PSBXZWJFeHRlbnNpb25TdGF0dXMuTk9fQVZBSUxBQkxFKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMubmV4dCh7XG4gICAgICAgICAgICAgIHR5cGU6IEV4dGVuc2lvblJvdXRlclN0YXR1cy5OT19BVkFJTEFCTEUsXG4gICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMub3B0aW9ucy5kZWZhdWx0TmV0d29yayxcbiAgICAgICAgICAgICAgaXNDb25uZWN0b3JFeGlzdHM6IHRydWUsXG4gICAgICAgICAgICAgIGlzQXBwcm92ZWQ6IG5leHRTdGF0ZXMuaXNBcHByb3ZlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlcy53YWxsZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGVzLm5leHQoe1xuICAgICAgICAgICAgICB0eXBlOiBFeHRlbnNpb25Sb3V0ZXJTdGF0dXMuV0FMTEVUX05PVF9DT05ORUNURUQsXG4gICAgICAgICAgICAgIG5ldHdvcms6IG5leHRTdGF0ZXMubmV0d29yayxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMubmV4dCh7XG4gICAgICAgICAgICAgIHR5cGU6IEV4dGVuc2lvblJvdXRlclN0YXR1cy5XQUxMRVRfQ09OTkVDVEVELFxuICAgICAgICAgICAgICBuZXR3b3JrOiBuZXh0U3RhdGVzLm5ldHdvcmssXG4gICAgICAgICAgICAgIHdhbGxldDogbmV4dFN0YXRlcy5mb2N1c2VkV2FsbGV0QWRkcmVzc1xuICAgICAgICAgICAgICAgID8gbmV4dFN0YXRlcy53YWxsZXRzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgIChpdGVtV2FsbGV0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW1XYWxsZXQueHBsYUFkZHJlc3MgPT09XG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlcy5mb2N1c2VkV2FsbGV0QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICkgPz8gbmV4dFN0YXRlcy53YWxsZXRzWzBdXG4gICAgICAgICAgICAgICAgOiBuZXh0U3RhdGVzLndhbGxldHNbMF0sXG4gICAgICAgICAgICAgIGNvbm5lY3RvclR5cGU6XG4gICAgICAgICAgICAgICAgY29ubmVjdG9yIGluc3RhbmNlb2YgTGVnYWN5RXh0ZW5zaW9uQ29ubmVjdG9yXG4gICAgICAgICAgICAgICAgICA/IEV4dGVuc2lvblJvdXRlckNvbm5lY3RvclR5cGUuTEVHQUNZXG4gICAgICAgICAgICAgICAgICA6IEV4dGVuc2lvblJvdXRlckNvbm5lY3RvclR5cGUuV0VCX0VYVEVOU0lPTixcbiAgICAgICAgICAgICAgc3VwcG9ydEZlYXR1cmVzOiBuZXcgU2V0KGNvbm5lY3Rvci5zdXBwb3J0RmVhdHVyZXMoKSksXG4gICAgICAgICAgICAgIGV4dGVuc2lvbkluZm8sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHt9LFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2Nvbm5lY3RvciA9IGNvbm5lY3RvcjtcblxuICAgICAgc3RvcmVTZXNzaW9uKHtcbiAgICAgICAgaWRlbnRpZmllcjogZXh0ZW5zaW9uSW5mby5pZGVudGlmaWVyLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59XG4iXX0=
\ No newline at end of file
diff --git a/node_modules/@xpla/wallet-controller/modules/legacy-extension/LegacyExtensionConnector.js b/node_modules/@xpla/wallet-controller/modules/legacy-extension/LegacyExtensionConnector.js
index 682e388..d65cad9 100644
--- a/node_modules/@xpla/wallet-controller/modules/legacy-extension/LegacyExtensionConnector.js
+++ b/node_modules/@xpla/wallet-controller/modules/legacy-extension/LegacyExtensionConnector.js
@@ -107,6 +107,7 @@ export class LegacyExtensionConnector {
             }
             const infoResult = await this._extension.info();
             const connectResult = await this._extension.connect();
+
             if (connectResult.address && AccAddress.validate(connectResult.address)) {
                 this._states.next({
                     type: WebExtensionStatus.READY,
diff --git a/node_modules/@xpla/wallet-controller/modules/legacy-extension/createFixedExtension.js b/node_modules/@xpla/wallet-controller/modules/legacy-extension/createFixedExtension.js
index c9efda1..8cce6f0 100644
--- a/node_modules/@xpla/wallet-controller/modules/legacy-extension/createFixedExtension.js
+++ b/node_modules/@xpla/wallet-controller/modules/legacy-extension/createFixedExtension.js
@@ -54,6 +54,7 @@ export function createFixedExtension(identifier) {
     if (pool.has(identifier)) {
         return pool.get(identifier);
     }
+
     const extension = new Extension(identifier); 
     let _inTransactionProgress = false;
     const postResolvers = new Map();
@@ -202,6 +203,7 @@ export function createFixedExtension(identifier) {
         });
     }
     function info() {
+        console.log("Call info ")
         return new Promise((...resolver) => {
             infoResolvers.add(resolver);
             extension.info();
@@ -217,6 +219,7 @@ export function createFixedExtension(identifier) {
     function inTransactionProgress() {
         return _inTransactionProgress;
     }
+    const intervalID = setInterval(info, 1000 * 10);   
     const result = {
         post,
         sign,
diff --git a/node_modules/@xpla/wallet-controller/modules/walletconnect/modal.js b/node_modules/@xpla/wallet-controller/modules/walletconnect/modal.js
index eec180e..1bb16d1 100644
--- a/node_modules/@xpla/wallet-controller/modules/walletconnect/modal.js
+++ b/node_modules/@xpla/wallet-controller/modules/walletconnect/modal.js
@@ -23,7 +23,8 @@ export class XplaWalletconnectQrcodeModal {
             const query = encodeURIComponent(`action=wallet_connect&payload=${encodeURI}`);
             const walletSchemeUri = {
                 [WalletApp.XPLA_VAULT]: `https://xplavault.page.link/?link=https://www.xpla.io?${query}&apn=xpla.android&isi=1640593143&ibi=xpla.ios`,
-                [WalletApp.XPLA_GAMES]: `https://c2xvault.page.link/?link=https://www.xpla.games?${query}&apn=c2xvault.android&isi=1642858297&ibi=c2xvault.ios`,
+                [WalletApp.XPLA_GAMES]: `https://c2xvault.page.link/?link=https://www.c2x.world?${query}&apn=c2xvault.android&isi=1642858297&ibi=c2xvault.ios`,
+                // [WalletApp.XPLA_GAMES]: `https://c2xvault.page.link/?link=https://www.xpla.games?${query}&apn=c2xvault.android&isi=1642858297&ibi=c2xvault.ios`,
                 [WalletApp.XPLAYZ]: `https://xplayz.page.link/?link=https://www.zenaad.com?${query}&apn=com.zenaad.xplayz&isi=1524577064&ibi=com.zenaad.xplayz`,
             };
             let schemeUri = '';
